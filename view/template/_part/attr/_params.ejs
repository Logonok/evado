<%
    p.id = typeof id === 'undefined' ? model.getFormAttrId(attr, _controller.timestamp) : id;
    p.name = typeof name === 'undefined' ? model.getFormAttrName(attr) : name;
    p.label = typeof label === 'undefined' ? model.getAttrLabel(attr) : label;
    p.hint = typeof hint === 'undefined' ? model.getAttrHint(attr) : hint;
    p.extHint = typeof extHint === 'undefined' ? '' : extHint;
    p.placeholder = typeof placeholder === 'undefined' ? '' : placeholder;
    p.disabled = typeof disabled === 'undefined' ? '' : disabled;
    p.required = typeof required === 'undefined' ? model.isAttrRequired(attr) : required;
    p.required = p.required ? ' required' : '';
    p.format = typeof format === 'undefined' ? '' : format;
    p.binder = typeof binder === 'undefined' ? '' : JSON.stringify(binder);
    p.css = typeof css === 'undefined' ? '' : css;
    p.labelCss = typeof labelCss === 'undefined' ? 'col-sm-2' : labelCss;
    p.valueCss = typeof valueCss === 'undefined' ? 'col-sm-10' : valueCss;
    p.translate = typeof translate === 'undefined' ? '' : translate;
    p.handler = typeof handler === 'undefined' ? p.handler || '' : JSON.stringify(handler);

    p.sourceValue = typeof value === 'undefined' ? model.get(attr) : value;
    if (p.sourceValue === undefined && typeof defaultValue !== 'undefined') {
        p.sourceValue = defaultValue;
    }
    p.value = p.sourceValue;
    if (p.value instanceof Date) {
        p.value = p.value.toISOString();
    }
    if (_view.MongoHelper.isObjectId(p.value)) {
        p.value = p.value.toString();
    }
    p.displayValue = typeof displayValue === 'undefined' ? p.value : displayValue;

    if (p.format) {
        switch (p.format) {
            case 'label':
                p.displayValue = model.constructor.getAttrValueLabel(attr, p.value) || p.displayValue;
                break;
            default:
                p.displayValue = Array.isArray(p.format)
                    ? _format(p.displayValue, ...p.format)
                    : _format(p.displayValue, p.format);
        }
    }
    if (p.displayValue === undefined || p.displayValue === null) {
        p.displayValue = _format(null);
    }
    if (p.value === null || p.value === undefined) {
        p.value = '';
    }
%>